{% extends 'core/plantilla/base.html' %}
{% block title %} Aeronaves {% endblock %}
{% block content %}

<div class="card">
	<div class="card-header bg-primary text-white">
		<div class="row">
			<div class="col-sm">
				<h5 class="h5">Aeronaves</h5>
			</div>
			<div class="col-sm">
				<div class="float-right">
					<!-- <a class="btn btn-info btn-sm" href="{% url 'aeronave_reporteExcel' %}" data-toggle="tooltip" data-placement="top" title="Desacargar excel de aeronaves"><i class="far fa-file-excel"></i></a> -->
					<a class="btn btn-danger btn-sm" target="_blank" href="{% url 'aeronave_pdf_list' %}" data-toggle="tooltip" data-placement="top" title="PDF lista de aeronaves"><i class="far fa-file-pdf"></i></a>
					<a class="btn btn-success btn-sm" href="{% url 'aeronave_create' %}" data-toggle="tooltip" data-placement="top" title="Crear aeronave"><i class="fas fa-plus"></i></a>

					<!-- <a class="btn btn-info float-right" href="{% url 'aeronave_downExcel' %}" data-toggle="tooltip" data-placement="top" title="Desacargar Excel de aeronaves"><i class="far fa-file-excel"></i></a> -->
					
				</div>
				
			</div>
		</div>
	</div>	
	<div class="card-body ">
		<table class="table table-striped table-hover table-sm table-bordered">
			<caption>Lista de aeroaves</caption>
			<thead class="thead-dark">
				<tr>
					<th scope="col" rowspan="2">Placa</th>
					<th scope="col" rowspan="2">Marca</th>
					<th scope="col" rowspan="2">Modelo</th>
					<th scope="col" rowspan="2">Tipo</th>
					<th scope="col" rowspan="2">Horas de vuelo</th>
					<th scope="col" colspan="2" class="text-center">COMPONENTES</th>
				</tr>
				<tr>
					<th scope="col">No. serie - Nombre</small></th>
					<th scope="col" class="text-right">Horas remanente</th>
					<th scope="col">Opciones</th>

				</tr>
			</thead>
			<tbody>
				{% for aeronave in aeronave_list %}	
				<tr>
					<td><a href="{% url 'aeronave_detail' aeronave.id %}">{{ aeronave.placa }}</a></td>
					<td>{{ aeronave.marca }}</td>
					<td>{{ aeronave.modelo }}</td>
					<td>{{ aeronave.tipo }}</td>
					<td>{{ aeronave.hVuelo }}</td>
					<td colspan="2">
						<ul class="list-group">
							{% for componente in aeronave.componente.all %}
							<li class="list-group-item d-flex justify-content-between align-items-center"> 
								<a href="{% url 'componente_info' componente.id %}">{{ componente.numSerie }} - {{ componente.nombre }}</a>
								<span class="badge badge-info badge-pill">{{ componente.hRemanente }}</span>
							</li>
							{% endfor %}
						</ul>
					</td>
					<td>
						<a class="badge badge-primary" href="{% url 'aeronave_update' aeronave.id %}" data-toggle="tooltip" data-placement="top" title="Editar aeronave"><i class="fas fa-edit"></i></a>		
						<a class="badge badge-danger" href="{% url 'aeronave_delete' aeronave.id %}" data-toggle="tooltip" data-placement="top" title="Borrar aeronave"><i class="fas fa-trash-alt"></i></a>
					</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
</div>
{% endblock %}
