{% extends 'core/plantilla/base.html' %}
{% block title %} Componentes {% endblock %}
{% block alerts %} <input type="text" id="alertaComponente" style="border:0; background-color: transparent;" size= "3" disabled class="text-center"> {% endblock %}
{% block content %}

<div class="card">
	<div class="card-header bg-primary text-white">
		<div class="row">
			<div class="col-sm">
				<h5 class="h5">Componentes</h5>
			</div>
			<div class="col-sm">
				<div class="float-right">
					<a class="btn btn-success btn-sm float-right" href="{% url 'componente_create' %}" data-toggle="tooltip" data-placement="top" title="Crear componente"><i class="fas fa-plus"></i></a>
					<!-- <a class="btn btn-info float-right" href="{% url 'componente_downExcel' %}" data-toggle="tooltip" data-placement="top" title="Descargar componetes a excel"><i class="far fa-file-excel"></i></a> -->
				</div>
			</div>
		</div>
	</div>
	<div class="card-body ">
		<table class="table table-striped table-hover table-sm">
			<caption>Lista de componentes</caption>
			<thead class="bg-white">
				<tr>
					<th scope="col">Num. serie</th>
					<th scope="col">Nombre</th>
					<th scope="col">Marca</th>
					<th scope="col">H.Vida util</th>
					<th scope="col">H.Utilizado</th>
					<th scope="col">H. DURG</th>
					<th scope="col">H. Remanente</th>
					<th scope="col">Uso %</th>
					<th scope="col">Fecha Vence</th>
					<th scope="col">Opciones</th>
				</tr>
			</thead>
			<tbody>
				{% for componente in componente_list %}	
				<tr>
					<td><a class="link alert-link" href="{% url 'componente_detail' componente.id %}" data-toggle="tooltip" data-placement="top" title="Ver detalles del componete">{{ componente.numSerie }}</a></td>
					<td>{{ componente.nombre }}</td>
					<td>{{ componente.marca }}</td>
					<td class="text-center">{{ componente.hvUtil }}</td>
					<td class="text-center">{{ componente.hUtilizado }}</td>
					<td class="text-center">{{ componente.hDurg }}</td>
					<td class="text-center">{{ componente.horasRemanentes }}</td>
					<td class="text-center"><span class="badge {% if componente.porcentaUso >= 70 %} badge-danger {% endif %}">{{ componente.porcentaUso|floatformat:2 }}</span></td>
					<td class="text-center"><span class="badge">{{ componente.fechaVencimiento|date:"SHORT_DATE_FORMAT" }}</span></td>
					<td class="text-center">
						<a class="badge badge-primary" href="{% url 'componente_update' componente.id %}" data-toggle="tooltip" data-placement="top" title="Editar componente"><i class="fas fa-edit"></i></a>
						<a class="badge badge-danger" href="{% url 'componente_delete' componente.id %}" data-toggle="tooltip" data-placement="top" title="Eliminar componente
						"><i class="fas fa-trash-alt"></i></a>
					</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
</div>
{% endblock %}