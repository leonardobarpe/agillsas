{% extends 'core/plantilla/base.html' %}
{% block title %} Componentes {% endblock %}
{% block alerts %} {% endblock %}
{% block content %}

<div class="card border-info mb-3">
	<div class="card-header">
		<div class="row">
			<div class="col-sm">
				<i class="fas fa-cubes"></i><span> | Componentes</span>
			</div>
			<div class="col-sm">
				<div class="float-right">
					<a class="btn btn-outline-success btn-sm float-right" href="{% url 'componente_create' %}" data-toggle="tooltip" data-placement="top" title="Crear componente"><small><i class="fas fa-plus-square"></i> Crear</small></a>
					<!-- <a class="btn btn-info float-right" href="{% url 'componente_downExcel' %}" data-toggle="tooltip" data-placement="top" title="Descargar componetes a excel"><i class="far fa-file-excel"></i></a> -->
				</div>
			</div>
		</div>
	</div>
	<div class="card-body">
		<table id="DataTable" class="table table-striped table-bordered table-hover" >
		{# <table class="DataTable compact table table-striped table-bordered table-hover" > #}
			<caption>Lista de componentes</caption>
			<thead>
				<tr>
					<th scope="col">Num. serie</th>
					<th scope="col">Nombre</th>
					<th scope="col">Marca</th>
					<th scope="col">H.Vida util</th>
					<th scope="col">H.Utilizado</th>
					<th scope="col">H. DURG</th>
					<th scope="col">H. Remanente</th>
					<th scope="col">Uso %</th>
					<th scope="col">Fecha Vence</th>
					<th scope="col">Aeronave</th>
					<th scope="col">Opciones</th>
				</tr>
			</thead>
			<tbody>
				{% for componente in componente_list %}	
				<tr>
					<td>{{ componente.numSerie }}</a></td>
					<td>{{ componente.nombre }}</td>
					<td>{{ componente.marca }}</td>
					<td class="text-center">{{ componente.hvUtil }}</td>
					<td class="text-center">{{ componente.hUtilizado }}</td>
					<td class="text-center">{{ componente.hDurg }}</td>
					<td class="text-center">{{ componente.horasRemanentes }}</td>
					<td class="text-center"><span class="badge {% if componente.porcenUso >= 70 %} badge-danger {% endif %}">{{ componente.porcenUso|floatformat:2 }}</span></td>
					<td class="text-center"><span class="badge">{{ componente.fechaVencimiento|date:"SHORT_DATE_FORMAT" }}</span></td>
					<td class="text-center">{{ aeronave.componente }}</td>
					<td class="text-center">
						<a class="badge badge-primary" href="{% url 'componente_update' componente.id %}" data-toggle="tooltip" data-placement="top" title="Editar componente"><i class="fas fa-pencil-alt"></i></a>
						<a class="badge badge-dark" href="{% url 'componente_pdf_detail' componente.id %}" target="_blank" data-toggle="tooltip" data-placement="top" title="PDF detalle de componente"><i class="far fa-file-pdf"></i></a>
						<a class="badge badge-danger" href="{% url 'componente_delete' componente.id %}" data-toggle="tooltip" data-placement="top" title="Eliminar componente
						"><i class="fas fa-trash-alt"></i></a>
						<a class="badge badge-info" href="{% url 'componente_detail' componente.id %}" data-toggle="tooltip" data-placement="top" title="Ver detalles del componete"><i class="fas fa-info-circle"></i></a>
					</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
</div>
{% endblock %}